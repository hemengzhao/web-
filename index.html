<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <script src="./interruptRequest.js"></script> -->
  </head>
  <body>
    <a href="javascript:void(0);" Î¿nclick="getCurrentTime('firefox');"
      >è·å–æ’­æ”¾æ—¶é—´</a
    >
    <a
      href="javascript:void(0);"
      class="bofang"
      Î¿nclick="playOrPaused('firefox',this);"
      >æ’­æ”¾</a
    >
    <a href="javascript:void(0);" Î¿nclick="hideOrShowControls('firefox',this);"
      >éšè—æ§åˆ¶æ¡†</a
    >
    <a href="javascript:void(0);" Î¿nclick="muted('firefox',this);">å¼€å¯é™éŸ³</a>
    <input
      type="button"
      value="+"
      id="upVol"
      Î¿nclick="vol('firefox' , 'up' , this )"
    />éŸ³é‡<input
      type="button"
      value="-"
      Î¿nclick="vol('firefox' , 'down' ,this )"
    />
    <audio
      src="./å¥¹è¯´(æˆ‘æ˜¯æ­Œæ‰‹ç¬¬ä¸‰å­£)-A-Lin.128.mp3"
      id="audio"
      controls="controls"
    ></audio>
    å½“å‰éŸ³é‡ï¼š<span id="nowVol"> - </span>
  </body>

  <script>
    var audio;
    window.onload = function () {
      initAudio();
    };
    var initAudio = function () {
      //audio = document.createElement("audio")
      //audio.src='Never Say Good Bye.ogg'
      audio = document.getElementById("audio");
    };
    function getCurrentTime(id) {
      alert(parseInt(audio.currentTime) + "ï¼šç§’");
    }

    function playOrPaused(id, obj) {
      console.log("asas");
      if (audio.paused) {
        audio.play();
        obj.innerHTML = "æš‚åœ";
        return;
      }
      audio.pause();
      obj.innerHTML = "æ’­æ”¾";
    }

    function hideOrShowControls(id, obj) {
      if (audio.controls) {
        audio.removeAttribute("controls");
        obj.innerHTML = "æ˜¾ç¤ºæ§åˆ¶æ¡†";
        return;
      }
      audio.controls = "controls";
      obj.innerHTML = "éšè—æ§åˆ¶æ¡†";
      return;
    }
    function vol(id, type, obj) {
      if (type == "up") {
        var volume = audio.volume + 0.1;
        if (volume >= 1) {
          volume = 1;
        }
        audio.volume = volume;
      } else if (type == "down") {
        var volume = audio.volume - 0.1;
        if (volume <= 0) {
          volume = 0;
        }
        audio.volume = volume;
      }
      document.getElementById("nowVol").innerHTML = returnFloat1(audio.volume);
    }
    function muted(id, obj) {
      if (audio.muted) {
        audio.muted = false;
        obj.innerHTML = "å¼€å¯é™éŸ³";
      } else {
        audio.muted = true;
        obj.innerHTML = "å…³é—­é™éŸ³";
      }
    }
    //ä¿ç•™ä¸€ä½å°æ•°ç‚¹
    function returnFloat1(value) {
      value = Math.round(parseFloat(value) * 10) / 10;
      if (value.toString().indexOf(".") < 0) {
        value = value.toString() + ".0";
      }
      return value;
    }
    console.log(document.getElementsByClassName("bofang")[0]);
    document
      .getElementsByClassName("bofang")[0]
      .addEventListener("click", function (e) {
        console.log("audio.paused");
        console.log("ğŸš€ ~ file: index.html:124 ~ e:", e);
        if (audio.paused) {
          audio.play();
          e.innerHTML = "æš‚åœ";
          return;
        }
        audio.pause();
        e.innerHTML = "æ’­æ”¾";
        return;
      });

    // const audioElement = new Audio("./å¥¹è¯´(æˆ‘æ˜¯æ­Œæ‰‹ç¬¬ä¸‰å­£)-A-Lin.128.mp3");
    // audioElement.addEventListener("canplaythrough", () => {
    //   // æ’­æ”¾éŸ³é¢‘
    //   audioElement.play();
    // });

    // new Notification("hai,xas", {
    //   body: "you are have",
    // });

    // Notification.requestPermission(function () {});
  </script>
</html>
